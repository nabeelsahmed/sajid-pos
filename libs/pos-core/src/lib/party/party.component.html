<mat-tab-group
    mat-align-tabs="center"
    [selectedIndex]="tabIndex"
    (selectedIndexChange)="changeTabHeader($event)"
>
    <mat-tab label="Add Party">
        <div class="bg-dark-light"> 
            <div class="container">
                <div class="d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center pt-2 pb-2">
                    <div class="AddPartyIcon"></div>
                    <h3 class="ms-3 mt-2">New Party</h3>
                    <label class=" ms-4 mt-3 me-lg-auto"></label>
                    <button mat-button class="resetBtn me-2" (click)="reset()">Reset</button>
                    <button mat-button class="saveBtn" (click)="save()">Save</button>
                </div>
            </div>
        </div>
        <div class="container mt-2">
            <div class="row">
                <div class="col-md-3 pe-4">
                    <h4 class="mb-3">General</h4>
                    <h6 class="mb-4">Add general information for this party.</h6>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <mat-select class="matInput"
                                    placeholder="Select party type"
                                    [(ngModel)]="formFields[5].value">
                                    <mat-option value="customer">Customer</mat-option>
                                    <mat-option value="supplier">Supplier</mat-option>
                                    <mat-option value="outlet">Outlet</mat-option>
                                </mat-select>
                            </mat-form-field>
                            
                        </div>
                        <!-- <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput 
                                [(ngModel)]="formFields[3].value" placeholder="Enter party name in Urdu" [disabled]="true">
                            </mat-form-field>
                        </div> -->
                        <div class="col-md-4" *ngIf="formFields[5].value == 'outlet'">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <mat-select class="matInput"
                                [(ngModel)]="formFields[14].value" (ngModelChange)="outletChange(formFields[14].value)"
                                    placeholder="Select outlet">
                                    <mat-option *ngFor="let item of outletList"
                                        [value]="item.outletID"
                                        >
                                        {{ item.outletName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4" *ngIf="formFields[5].value != 'outlet'">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput 
                                [(ngModel)]="formFields[2].value" placeholder="Enter party name" autofocus>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[4].value" placeholder="Enter CNIC number" [textMask]="{mask: cnicMask}">
                            </mat-form-field>
                            <!-- <mat-form-field class="w-100 pt-3 pe-4">
                                <mat-select class="matInput"
                                    placeholder="Select party type"
                                    [(ngModel)]="formFields[5].value">
                                    <mat-option value="customer">Customer</mat-option>
                                    <mat-option value="supplier">Supplier</mat-option>
                                    <mat-option value="outlet">Outlet</mat-option>
                                </mat-select>
                            </mat-form-field> -->
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <!-- <mat-form-field class="w-100 pt-3 pe-4">
                                <mat-select class="matInput"
                                [(ngModel)]="formFields[6].value"
                                    placeholder="Select party route">
                                    <mat-option *ngFor="let item of routeList"
                                        [value]="item.rootID"
                                        >
                                        {{ item.rootName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="container mt-2">
            <div class="row">
                <div class="col-md-3 pe-4">
                    <h4 class="mb-3">Contact</h4>
                    <h6 class="mb-4">Add party contact information here.</h6>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-8">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[7].value" placeholder="Enter party address">
                            </mat-form-field>
                        </div>
                        <!-- <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[8].value" placeholder="Enter party address in Urdu" [disabled]="true">
                            </mat-form-field>
                        </div> -->
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <mat-select class="matInput"
                                [(ngModel)]="formFields[9].value"
                                    placeholder="Select city">
                                    <mat-option *ngFor="let item of cityList"
                                        [value]="item.cityID"
                                        >
                                        {{ item.cityName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[10].value" placeholder="Enter phone number" [textMask]="{mask: phoneMask}">
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[13].value" placeholder="Enter  person to contact">
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field class="w-100 pt-3 pe-4">
                                <input matInput
                                [(ngModel)]="formFields[11].value" placeholder="Enter  mobile number" [textMask]="{mask: mobileMask}">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container mt-2">
            <div class="row">
                <div class="col-md-3 pe-4">
                    <h4 class="mb-3">Remarks</h4>
                    <h6 class="mb-4">Add party remarks here if any.</h6>
                </div>
                <div class="col-md-9">
                    <mat-form-field class="w-100 pt-3 pe-4">
                        <input matInput
                        [(ngModel)]="formFields[12].value" placeholder="Enter remarks here" (keypress)="getKeyPressed($event)"/>
                    </mat-form-field>
            </div>
        </div>
    </div>

    </mat-tab>
    <mat-tab label="Saved Parties">
    <aims-pos-party-table (eventEmitter)="edit($event)" (eventEmitterDelete)="delete($event)"></aims-pos-party-table>
    </mat-tab>
</mat-tab-group>

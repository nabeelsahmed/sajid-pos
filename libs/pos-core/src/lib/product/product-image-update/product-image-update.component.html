<div class="bg-dark-light">
    <div class="container">
        <div class="d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center pt-2 pb-2">
            <div class="openStockIcon"></div>
            <h3 class="ms-3 mt-2">Update Picture</h3>
            <!-- <label class=" ms-4 mt-3 me-lg-auto">Check your opening stock information here.</label> -->
        </div>
    </div>
  </div>
  
  <div class="container">
    <div class="row">
        <div class="col-md-4">
            <mat-form-field class="w-100">
                <mat-label>Sub Category</mat-label>
                <mat-select [(ngModel)]="cmbCategory" (ngModelChange)="onCategoryChange(cmbCategory)">
                    <mat-option>
                        <ngx-mat-select-search [(ngModel)]="searchCategory" 
                            [noEntriesFoundLabel]="'Not found'" placeholderLabel="Search..." name="search">
                        </ngx-mat-select-search>
                    </mat-option>
                    <mat-option
                        *ngFor="let item of categoryList | search: 'categoryName': searchCategory"
                        [value]="item.categoryID"
                        >
                        {{ item.categoryName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-7">
            <mat-form-field class="w-100">
                <mat-label>Search</mat-label>
                <input
                    matInput [(ngModel)]="tblSearch"
                />
            </mat-form-field>
        </div>
        <div class="col-md-1">
            <button mat-button class="resetBtn mt-3" (click)="reset()">
                Clear All
            </button>
        </div>
    </div>
    <!-- <div class="d-flex flex-row">
  
        
        
        
    </div> -->
    <perfect-scrollbar class="bg-light-grey" style="height: 31em; max-width: 100%;">
        <table class="table">
            <thead>
                <tr>
                    <th class="col-1 text-center">Sr#</th>
                    <th class="col-5">Product Name</th>
                    <th class="col-3">Image Upload</th>
                    <th class="col-2">Show Image</th>
                    <th class="col-1 text-center">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of tableData | filter: tblSearch; let i=index">
                    <td class="col-1 text-center">{{i+1}}</td>
                    <td class="col-5">{{item.productName}}</td>
                    <td class="col-3">
                        <input type="file" class="custom-file-input" [(ngModel)]="item.imgFile"
                        (change)="onFileSelected($event, item)" />
                    </td>
                    <td class="col-2">
                        <img [src]="item.imageUrl" class="rounded-circle" width="80" height="80" id="myImg"/>
                    </td>
                    <td class="col-1 text-center">
                        <span class="txtClrDarkGrey pe-2 cursorPointer" (click)="save(item)">
                            <mat-icon>save</mat-icon>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </perfect-scrollbar>
  </div>
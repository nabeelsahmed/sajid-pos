<div class="bg-dark-light">
  <div class="container">
      <div class="d-flex flex-column flex-lg-row flex-md-row flex-xl-row align-items-center pt-2 pb-2">
          <div class="openStockIcon"></div>
          <h3 class="ms-3 mt-2">Opening Stock</h3>
          <label class=" ms-4 mt-3 me-lg-auto">Check your opening stock information here.</label>
          <!-- <button mat-button class="resetBtn me-2" (click)="reset()">Reset</button>
          <button mat-button class="saveBtn" (click)="save()">Save</button> -->
      </div>
  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-4">
          <mat-form-field class="w-100">
              <mat-label>Sub Category</mat-label>
              <mat-select [(ngModel)]="cmbCategory" (ngModelChange)="onCategoryChange(cmbCategory)">
                  <mat-option>
                      <ngx-mat-select-search [(ngModel)]="searchCategory" 
                          [noEntriesFoundLabel]="'Not found'" placeholderLabel="Search..." name="search">
                      </ngx-mat-select-search>
                  </mat-option>
                  <mat-option
                      *ngFor="let item of categoryList | search: 'categoryName': searchCategory"
                      [value]="item.categoryID"
                      >
                      {{ item.categoryName }}
                  </mat-option>
              </mat-select>
          </mat-form-field>
      </div>
      <div class="col-md-7">
          <mat-form-field class="w-100">
              <mat-label>Search</mat-label>
              <input
                  matInput [(ngModel)]="tblSearch"
              />
          </mat-form-field>
      </div>
      <div class="col-md-1">
          <button mat-button class="resetBtn mt-3" (click)="reset()">
              Clear All
          </button>
      </div>
  </div>
  <!-- <div class="d-flex flex-row">

      
      
      
  </div> -->
  <perfect-scrollbar class="bg-light-grey" style="height: 31em; max-width: 100%;">
      <table class="table">
          <thead>
              <tr>
                  <th class="col-1 text-center">Sr#</th>
                  <th class="col-7">Product Name</th>
                  <th class="col-3">Opening Balance</th>
                  <th class="col-1 text-center">Action</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let item of tableData | filter: tblSearch; let i=index">
                  <td class="col-1 text-center">{{i+1}}</td>
                  <td class="col-7">{{item.productName}}</td>
                  <td class="col-3">
                      <input class="form-control" placeholder="Quantity" [(ngModel)]="item.qty" type="number">
                  </td>
                  <td class="col-1 text-center">
                      <span class="txtClrDarkGrey pe-2 cursorPointer" (click)="save(item)">
                          <mat-icon>save</mat-icon>
                      </span>
                  </td>
              </tr>
          </tbody>
      </table>
  </perfect-scrollbar>
</div>












<!-- 
<div class="container mt-2">
  <h4 class="txtClrLightGreen">Add or Modify</h4>
  <div class="row">
    <div class="col-md-4">
      <mat-form-field class="w-100">
        <mat-label>Date</mat-label>
        <input
            matInput
            [matDatepicker]="picker"
            [(ngModel)]="formFields[0].value"
            autofocus
        />
        <mat-datepicker-toggle
        matSuffix
        [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field class="w-100">
        <mat-label>Product Name</mat-label>
          <mat-select [(ngModel)]="formFields[2].value" (ngModelChange)="onProductChange(formFields[2].value)">
              <mat-option>
                  <ngx-mat-select-search [(ngModel)]="searchProduct" 
                      [noEntriesFoundLabel]="'Not found'" placeholderLabel="Search..." name="search">
                  </ngx-mat-select-search>
              </mat-option>
              <mat-option
                  *ngFor="let item of productList
                          | search: 'productName': searchProduct"
                  [value]="item.productID"
                  >
                  {{ item.productName }}
              </mat-option>
          </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field class="w-100">
        <input
            matInput
            placeholder="Quantity"
            [(ngModel)]="formFields[6].value"
            (keyup)="changeValue();  getKeyPressed($event)"
            type="number"
        />
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="bg-dark-grey pb-3">
        <div class="d-flex justify-content-evenly align-items-center">
          <label class="h4-opening-stock txtClrLightGreen pt-3">Cost Price:</label>
          <label class="h1-digit text-white pt-3">{{formFields[4].value}}</label>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="bg-dark-grey pb-3">
        <div class="d-flex justify-content-evenly align-items-center">
          <label class="h4-opening-stock txtClrLightGreen pt-3">Total Price:</label>
          <label class="h1-digit text-white pt-3">{{lblTotal}}</label>
        </div>
      </div>
    </div>
  </div>
  <h4 class="txtClrLightGreen mt-3 mb-3">Saved Records</h4>
  <aims-pos-opening-balance-table></aims-pos-opening-balance-table>
</div> -->